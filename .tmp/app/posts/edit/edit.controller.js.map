{"version":3,"sources":["app/posts/edit/edit.controller.js"],"names":[],"mappings":"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","file":"app/posts/edit/edit.controller.js","sourcesContent":["'use strict';\nvar filePicked = null;\nvar filePickedTwo = null;\nvar filePickedThree = null;\nvar filePickedFour = null;\nvar filePickedFive = null;\n\n(function(){\n\nclass EditComponent {\n  constructor($scope, $http, $routeParams, $location, Auth) {\n    this.$scope = $scope;\n    this.$http = $http;\n    this.$routeParams = $routeParams;\n    this.$location = $location;\n    this.getCurrentUser = Auth.getCurrentUser;\n    this.message = 'You made it!';\n    // line 19 has all objects in the array\n    this.singlePost = [];\n    window.filePicked = this.filePicked;\n    window.filePickedTwo = this.filePickedTwo;\n    window.filePickedThree = this.filePickedThree;\n    window.filePickedFour = this.filePickedFour;\n    window.filePickedFive = this.filePickedFive;\n    window.$ctrl = this;\n    // this.hiddenfields = true;\n  }\n\n  $onInit() {\n    this.$http.get('/api/posts/' + this.$routeParams.postID)\n      .then(response => {\n        this.singlePost = response.data;\n        console.log(this.singlePost);\n      });\n  }\n\n  filePicked(event) {\n    window.$ctrl.imageURL1 = event.fpfiles[0].url;\n    window.$ctrl.$scope.$apply();\n  }\n\n  filePickedTwo(event) {\n    window.$ctrl.imageURL2 = event.fpfiles[0].url;\n    window.$ctrl.$scope.$apply();\n  }\n\n  filePickedThree(event) {\n    window.$ctrl.imageURL3 = event.fpfiles[0].url;\n    window.$ctrl.$scope.$apply();\n  }\n\n  filePickedFour(event) {\n    window.$ctrl.imageURL4 = event.fpfiles[0].url;\n    window.$ctrl.$scope.$apply();\n  }\n\n  filePickedFive(event) {\n    window.$ctrl.imageURL5 = event.fpfiles[0].url;\n    window.$ctrl.$scope.$apply();\n  }\n\n  // reveal(){\n  //   this.hiddenfields = !this.hiddenfields;\n  // }\n\n  // hideextra() {\n  //   if (!this.singlePost.image_2) {\n  //     return true;\n  //   } else {\n  //     return false;\n  //   }\n  // }\n\n  update() {\n    if (this.singlePost) {\n      var postid = this.$routeParams.postID;\n\n      this.$http.put('/api/posts/' + this.$routeParams.postID, {\n        title: this.singlePost.title,\n        synopsis: this.singlePost.synopsis,\n        image_1: this.imageURL1,\n        caption_1: this.singlePost.caption_1,\n        image_2: this.imageURL2,\n        caption_2: this.singlePost.caption_2,\n        image_3: this.imageURL3,\n        caption_3: this.singlePost.caption_3,\n        image_4: this.imageURL4,\n        caption_4: this.singlePost.caption_4,\n        image_5: this.imageURL5,\n        caption_5: this.singlePost.caption_5\n      })\n      .then((result) => {\n        console.log(result);\n        this.$location.path('/posts/' + postid);\n      });\n    } else if (!this.singlePost) {\n      this.$http.post('api/posts/' + this.$routeParams.postID, {\n        image_2: this.imageURL2,\n        caption_2: this.singlePost.caption_2,\n        image_3: this.imageURL3,\n        caption_3: this.singlePost.caption_3,\n        image_4: this.imageURL4,\n        caption_4: this.singlePost.caption_4,\n        image_5: this.imageURL5,\n        caption_5: this.singlePost.caption_5\n      })\n      .then((result) => {\n        console.log(result);\n        this.$location.path('/posts/' + postid);\n      });\n    }\n  }\n\n  delete() {\n    if (this.singlePost) {\n      var postid = this.$routeParams.postID;\n\n      this.$http.delete('/api/posts/' + this.$routeParams.postID, {\n        title: this.singlePost.title,\n        synopsis: this.singlePost.synopsis,\n        image_1: this.imageURL1,\n        caption_1: this.singlePost.caption_1,\n        // image_2: this.imageURL2,\n        // caption_2: this.singlePost.caption_2,\n        // image_3: this.imageURL3,\n        // caption_3: this.singlePost.caption_3\n        // image_4: this.imageURL4,\n        // caption_4: this.singlePost.caption_4,\n        // image_5: this.imageURL5,\n        // caption_5: this.singlePost.caption_5\n      })\n      .then((result) => {\n        console.log(result);\n        this.$location.path('/posts/author/' + this.getCurrentUser().name );\n      });\n    }\n  }\n\n}\n\nangular.module('docExtrapolationApp')\n  .component('edit', {\n    templateUrl: 'app/posts/edit/edit.html',\n    controller: EditComponent\n  });\n\n})();\n"],"sourceRoot":"/source/"}