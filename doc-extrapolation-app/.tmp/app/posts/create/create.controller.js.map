{"version":3,"sources":["app/posts/create/create.controller.js"],"names":[],"mappings":"AAAA;;;;;;AACA,IAAI,aAAa,IAAjB;;AAEA,CAAC,YAAU;AAAA,MAEL,eAFK;AAGT,6BAAY,MAAZ,EAAoB,KAApB,EAA2B,SAA3B,EAAsC,IAAtC,EAA4C;AAAA;;AAC1C,WAAK,KAAL,GAAa,KAAb;AACA,WAAK,MAAL,GAAc,MAAd;AACA,WAAK,SAAL,GAAiB,SAAjB;AACA,WAAK,cAAL,GAAsB,KAAK,cAA3B;AACA,WAAK,OAAL,GAAe,MAAf;AACA,WAAK,YAAL,GAAoB,IAApB;AACA,aAAO,UAAP,GAAoB,KAAK,UAAzB;AACA,aAAO,KAAP,GAAe,IAAf;AACA,WAAK,KAAL,GAAa,EAAb;AACD;;AAbQ;AAAA;AAAA,iCAeE,KAfF,EAeS;AAChB,gBAAQ,GAAR,CAAY,KAAZ;AACA,eAAO,KAAP,CAAa,QAAb,GAAwB,MAAM,MAAN,CAAa,GAArC;AACA,eAAO,KAAP,CAAa,MAAb,CAAoB,MAApB;AACD;AAnBQ;AAAA;AAAA,+BAqBA;;AAEP,aAAK,YAAL,GAAoB,CAAC,KAAK,YAA1B;AACD;AAxBQ;AAAA;AAAA,+BA0BA,KA1BA,EA0BO;AACd,gBAAQ,GAAR,CAAY,KAAZ;AACA,gBAAQ,GAAR,CAAY,KAAK,UAAjB;AACD;AA7BQ;AAAA;AAAA,+BA+BA;AACP,gBAAQ,GAAR,CAAY,iBAAZ;AACA,aAAK,UAAL,CAAgB,IAAhB,CACE;AACE,oBAAU,SADZ;AAEE,qBAAW,QAFb;AAGE,oBAAU,CAAC,UAAD,EAAa,UAAb,EAAyB,UAAzB;AAHZ,SADF,EAME,UAAS,IAAT,EAAc;AACZ,kBAAQ,GAAR,CAAY,iBAAiB,KAAK,SAAL,CAAe,IAAf,CAAjB,CAAZ;AACD,SARH,EASE,UAAS,OAAT,EAAiB;;AAEf,kBAAQ,GAAR,CAAY,QAAQ,QAAR,EAAZ;AACD,SAZH;AAcD;;;;AA/CQ;AAAA;AAAA,+BAkDA;AAAA;;AACP,YAAI,KAAK,IAAT,EAAe;AACb,kBAAQ,GAAR,CAAY,KAAK,QAAjB;AACA,kBAAQ,GAAR,CAAY,KAAK,IAAjB;AACA,kBAAQ,GAAR,CAAY,KAAK,cAAL,GAAsB,IAAlC;AACA,eAAK,KAAL,CAAW,IAAX,CAAgB,YAAhB,EAA8B;;AAE5B,mBAAO,KAAK,IAAL,CAAU,KAFW;AAG5B,oBAAQ,KAAK,cAAL,GAAsB,IAHF;AAI5B,sBAAU,KAAK,IAAL,CAAU,QAJQ;AAK5B,qBAAS,KAAK,QALc;AAM5B,uBAAW,KAAK,IAAL,CAAU,SANO;AAO5B,qBAAS,KAAK,IAAL,CAAU,OAPS;AAQ5B,uBAAW,KAAK,IAAL,CAAU,SARO;AAS5B,qBAAS,KAAK,IAAL,CAAU,OATS;AAU5B,uBAAW,KAAK,IAAL,CAAU,SAVO;AAW5B,qBAAS,KAAK,IAAL,CAAU,OAXS;AAY5B,uBAAW,KAAK,IAAL,CAAU,SAZO;AAa5B,qBAAS,KAAK,IAAL,CAAU,OAbS;AAc5B,uBAAW,KAAK,IAAL,CAAU;AAdO,WAA9B,EAgBC,IAhBD,CAgBM,UAAC,MAAD,EAAY;AAChB,kBAAK,SAAL,CAAe,IAAf,CAAoB,QAApB;AACD,WAlBD;AAmBA,eAAK,IAAL,CAAU,KAAV,GAAkB,EAAlB;AACD;AACF;AA5EQ;;AAAA;AAAA;;AAiFX,UAAQ,MAAR,CAAe,qBAAf,EACG,SADH,CACa,QADb,EACuB;AACnB,iBAAa,8BADM;AAEnB,gBAAY;AAFO,GADvB;AAMC,CAvFD","file":"app/posts/create/create.controller.js","sourcesContent":["'use strict';\r\nvar filePicked = null;\r\n\r\n(function(){\r\n\r\nclass CreateComponent {\r\n  constructor($scope, $http, $location, Auth) {\r\n    this.$http = $http;\r\n    this.$scope = $scope;\r\n    this.$location = $location;\r\n    this.getCurrentUser = Auth.getCurrentUser;\r\n    this.message = 'Wat!';\r\n    this.hiddenfields = true;\r\n    window.filePicked = this.filePicked;\r\n    window.$ctrl = this;\r\n    this.files = [];\r\n  }\r\n\n  filePicked(event) {\n    console.log(event);\n    window.$ctrl.imageURL = event.fpfile.url;\n    window.$ctrl.$scope.$apply();\n  }\n\n  reveal() {\n    // return true;\n    this.hiddenfields = !this.hiddenfields;\n  }\n\n  uploaded(event) {\n    console.log(event);\n    console.log(this.uploaddata);\n  }\n\n  upload() {\n    console.log('clicked upload!');\n    this.filepicker.pick(\n      {\n        mimetype: 'image/*',\n        container: 'window',\n        services: ['COMPUTER', 'FACEBOOK', 'CLOUDAPP'],\n      },\n      function(Blob){\n        console.log(replaceHtmlChars(JSON.stringify(Blob)));\n      },\n      function(FPError){\n        //print errors to console\n        console.log(FPError.toString());\n      }\n    );\n  }\n\r\n  // do $http request here. Should automatically use the api endpoint\r\n  submit() {\r\n    if (this.post) {\r\n      console.log(this.imageURL);\r\n      console.log(this.post);\r\n      console.log(this.getCurrentUser().name);\r\n      this.$http.post('/api/posts', {\r\n        // below are values I want to pass into the db\r\n        title: this.post.title,\r\n        author: this.getCurrentUser().name,\r\n        synopsis: this.post.synopsis,\r\n        image_1: this.imageURL,\r\n        caption_1: this.post.caption_1,\r\n        image_2: this.post.image_2,\r\n        caption_2: this.post.caption_2,\r\n        image_3: this.post.image_3,\r\n        caption_3: this.post.caption_3,\r\n        image_4: this.post.image_4,\r\n        caption_4: this.post.caption_4,\r\n        image_5: this.post.image_5,\r\n        caption_5: this.post.caption_5\r\n      })\r\n      .then((result) => {\r\n        this.$location.path('/posts');\r\n      });\r\n      this.post.title = '';\r\n    }\r\n  }\r\n\r\n\r\n}\r\n\r\nangular.module('docExtrapolationApp')\r\n  .component('create', {\r\n    templateUrl: 'app/posts/create/create.html',\r\n    controller: CreateComponent\r\n  });\r\n\r\n})();\r\n"],"sourceRoot":"/source/"}